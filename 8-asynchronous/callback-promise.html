callback과 promise

<script>
  // callback
  const log = console.log;
  const add10 = (a, callback) => {
    setTimeout(() => callback(a + 10), 100);
  };

  add10(5, (res) => {
    add10(res, (res) => {
      add10(res, (res) => {
        log(res); // 비동기 상황을 코드로 표현
      });
    });
  });
  // 콜백 패턴은 비동기 상황에서 컨택스트에 국한되어 표현할 수 밖에 없다.
</script>

<script>
  //promise

  const add20 = (a) => {
    return new Promise((resolve) => setTimeout(() => resolve(a + 20), 100)); // 비동기 상황을 '값'으로 표현하고 있다.
  };
  // promise의 등장으로 비동기 상황에서 일급인 promise를 리턴하기 때문에 값으로 다루어서 변수에 담고, 함수에 전달할 수 있기 때문에 컨택스트에 국한되지 않는 활용이 가능하다.
  add20(10).then(add20).then(add20).then(add20).then(log);
</script>
